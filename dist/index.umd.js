!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("axios"),require("vue-class-component"),require("vue-property-decorator")):"function"==typeof define&&define.amd?define(["exports","axios","vue-class-component","vue-property-decorator"],t):t((e=e||self)["nested-select"]={},e.axios,e.Component,e.vuePropertyDecorator)}(this,function(e,t,r,o){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,r=r&&r.hasOwnProperty("default")?r.default:r;var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function s(e,t,r,o){var n,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(s<3?n(i):s>3?n(t,r,i):n(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}var i=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.selects=[],t.dummy=!1,t}return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(i,e),i.prototype.mounted=function(){this.getChildren(0,void 0)},i.prototype.getChildren=function(e,r){var o=this,n=o.hierarchy[e];if(n.path){var s=this.fixUrl(n.path,r),i=o.host+o.context+s;t.get(i).then(function(t){0==o.selects.length&&(o.selects=new Array(1)),o.selects[e]={options:t.data||new Array(t),prop:n.prop,label:n.label,selectLabel:n.selectLabel},o.dummy=!o.dummy})}},i.prototype.fixUrl=function(e,t){return e.replace("[id]",t)},i.prototype.selectChanged=function(e,t){if(t===this.hierarchy.length-1)this.$emit("input",e),this.$emit("complete",this.getPath());else{this.$emit("input",null),this.selects=this.selects.slice(0,t+1);var r=this.hierarchy[t];this.getChildren(t+1,e[r.prop])}},i.prototype.getPath=function(){for(var e=[],t=0;t<this.selects.length;t++){var r=this.selects[t];e.push(r.selected)}return e},s([o.Prop({default:{},type:Object})],i.prototype,"value",void 0),s([o.Prop({type:String,default:""})],i.prototype,"host",void 0),s([o.Prop({type:String,default:""})],i.prototype,"context",void 0),s([o.Prop({type:Array,required:!0})],i.prototype,"hierarchy",void 0),s([o.Prop({type:Boolean,default:!0})],i.prototype,"required",void 0),i=s([r],i)}(o.Vue);var l,c,a,p,u,d=(l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{key:e.dummy,staticClass:"form-group",on:{submit:function(e){e.preventDefault()}}},e._l(e.selects,function(t,o){return r("div",{key:o},[r("label",{staticClass:"form-control-label",attrs:{for:"nested-select-"+o}},[e._v(e._s(t.selectLabel))]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"select.selected"}],staticClass:"form-control",attrs:{name:"nested-select-"+o,id:"nested-select-"+o,required:e.required},on:{change:[function(r){var o=Array.prototype.filter.call(r.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"selected",r.target.multiple?o:o[0])},function(r){return e.selectChanged(t.selected,o)}]}},e._l(t.options,function(o,n){return r("option",{key:n,domProps:{value:o}},[e._v(e._s(o[t.label]))])}),0)])}),0)},staticRenderFns:[]},a=void 0,p=!1,(u=("function"==typeof(c=i)?c.options:c)||{}).__file="NestedSelectComponent.vue",u.render||(u.render=l.render,u.staticRenderFns=l.staticRenderFns,u._compiled=!0,p&&(u.functional=!0)),u._scopeId=a,u),f={install:function(e,t){e.component("nested-select",d)}};e.NestedSelectComponent=d,e.default=f,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
