!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("axios"),require("vue-class-component"),require("vue-property-decorator")):"function"==typeof define&&define.amd?define(["exports","axios","vue-class-component","vue-property-decorator"],t):t((e=e||self)["nested-select"]={},e.axios,e.Component,e.vuePropertyDecorator)}(this,function(e,t,o,r){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,o=o&&o.hasOwnProperty("default")?o.default:o;var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};function s(e,t,o,r){var n,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(s<3?n(i):s>3?n(t,o,i):n(t,o))||i);return s>3&&i&&Object.defineProperty(t,o,i),i}var i=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.selects=[],t.dummy=!1,t}return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}(i,e),i.prototype.mounted=function(){this.getChildren(0,void 0)},i.prototype.getChildren=function(e,o){var r=this,n=r.hierarchy[e];if(n.path){var s=this.fixUrl(n.path,o),i=r.host+r.context+s;t.get(i).then(function(t){0==r.selects.length&&(r.selects=new Array(1)),r.selects[e]={options:t.data||new Array(t),prop:n.prop,label:n.label,selectLabel:n.selectLabel},r.dummy=!r.dummy})}},i.prototype.fixUrl=function(e,t){return e.replace("[id]",t)},i.prototype.selectChanged=function(e,t){if(t===this.hierarchy.length-1)this.$emit("input",e),this.$emit("complete",this.getPath());else{this.$emit("input",null),this.selects=this.selects.slice(0,t+1);var o=this.hierarchy[t];this.getChildren(t+1,e[o.prop])}},i.prototype.getPath=function(){for(var e=[],t=0;t<this.selects.length;t++){var o=this.selects[t];e.push(o.options[o.selected-1])}return e},s([r.Prop({default:{},type:Object})],i.prototype,"value",void 0),s([r.Prop({type:String,default:""})],i.prototype,"host",void 0),s([r.Prop({type:String,default:""})],i.prototype,"context",void 0),s([r.Prop({type:Array,required:!0})],i.prototype,"hierarchy",void 0),s([r.Prop({type:Boolean,default:!0})],i.prototype,"required",void 0),i=s([o],i)}(r.Vue);var l,c,p,a,u,d=(l={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{key:e.dummy,staticClass:"form-group",on:{submit:function(e){e.preventDefault()}}},e._l(e.selects,function(t,r){return o("div",{key:r},[o("label",{staticClass:"form-control-label",attrs:{for:"nested-select-"+r}},[e._v(e._s(t.selectLabel))]),e._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"select.selected"}],staticClass:"form-control",attrs:{name:"nested-select-"+r,id:"nested-select-"+r,required:e.required},on:{change:[function(o){var r=Array.prototype.filter.call(o.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"selected",o.target.multiple?r:r[0])},function(o){return e.selectChanged(t.options[t.selected-1],r)}]}},e._l(t.options,function(r,n){return o("option",{key:n,domProps:{value:r[t.prop]}},[e._v(e._s(r[t.label]))])}),0)])}),0)},staticRenderFns:[]},p=void 0,a=!1,(u=("function"==typeof(c=i)?c.options:c)||{}).__file="NestedSelectComponent.vue",u.render||(u.render=l.render,u.staticRenderFns=l.staticRenderFns,u._compiled=!0,a&&(u.functional=!0)),u._scopeId=p,u),f={install:function(e,t){e.component("nested-select",d)}};e.NestedSelectComponent=d,e.default=f,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
